<div>
    <h3><b>Register new customer:</b></h3>
    <form name="form" class="well" ng-submit="reg.register()" role="form">
        <div class="form-group" ng-class="{ 'has-error': form.name.$dirty && form.name.$error.required }">
            <label for="name">Name:</label>
            <input type="text" pattern="[a-zA-Z ]+" maxlength="254" name="name" id="name" class="form-control" ng-model="reg.user.name" required />
        </div>
        <div class="form-group" ng-class="{ 'has-error': form.dni.$dirty && form.dni.$error.required }">
            <label for="dni">Dni:</label>
            <input type="number" name="dni" id="dni" min="99" max="2147483647" class="form-control" ng-model="reg.user.dni" required />
        </div>
        <div class="form-group">
            <label for="address">Address:</label>
            <input type="text" name="address" id="address" class="form-control" ng-model="reg.user.address" />
        </div>
        <div class="form-group" ng-class="{ 'has-error': form.email.$dirty && form.email.$error.required }">
            <label for="email">E-mail:</label>
            <input type="email" pattern="[A-Za-z0-9._+-]+@[a-z0-9.-]+\.[a-z]{2,4}" name="email" id="email" class="form-control" ng-model="reg.user.email" required />
        </div>
        <div class="form-group" >
            <label for="phone">Phone:</label>
            <input type="number" name="phone" id="phone" min="99" max="2147483647" class="form-control" ng-model="reg.user.phone" />
        </div>
        <div class="form-actions">
            <button type="submit" ng-disabled="form.$invalid || reg.dataLoading" class="btn btn-primary">Register</button>
            <!-- <img ng-if="reg.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" /> -->
            <!-- <a href="#!/register" ng-click="reg.cleanFields()" class="btn btn-link">Cancel</a> -->
            <a ng-click="reg.cleanFields()" class="btn btn-link">Cancel</a>
        </div>
    </form>

    <hr>
    <h3><b>All registered customers:</b></h3>
    <label for="input"> Search: <input ng-model="reg.searchText" placeholder="Customer name or dni"></label>

    <!-- <ul>
        <li ng-repeat="user in reg.allUsers | limitTo:4">
            {{user.name}} {{user.dni}}
            - <a ng-click="reg.deleteUser(user.dni)">Delete</a>
        </li>
    </ul> -->

    <table ng-if="reg.allUsers.length" class = "table table-striped table-bordered table-hover">
      <thead>
        <tr class = "info">
          <th>Customer Name</th>
          <th>Customer Dni</th>
          <th>Action</th>
          <!-- <th ng-if="!ifSearchUser">Action</th> -->
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat = "user in reg.allUsers | filter:reg.searchText">
          <td>{{ user.name }}</td>
          <td>{{ user.dni }}</td>
          <!-- <td>{{ product.amount }}</td> -->
          <td>
            <a ng-click="reg.editCustomer(user.dni)" role = "button" class = "btn btn-info">Edit</a>
            <a ng-click="reg.deleteCustomer(user.dni)" role = "button" class = "btn btn-danger">delete</a>
          </td>
        </tr>
      </tbody>
    </table>
    <div ng-hide="reg.allUsers.length > 0">No Customers Found</div>
    </div>
</div>
